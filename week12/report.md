# 演習1

1. ex01.cについて答えよ

## 内容

- クリティカルセクションはどの命令の部分か

## 回答

- if文内のslowPrintとその下のslowPrintの部分

2. ex01を実行せよ

## 内容

- どのような結果になるか、その理由は何か

## 結果

3回実行した。それぞれ
```
HTheilsl oi,s  Woar lpde!n
.
```
```
HTehlilso ,i sW oar lpedn!
.
```
```
HThelisl oi,s  Wao rpledn!.
```
と表示された。

## 理由

- if文内を通るプロセスと通らないプロセスを並列で行い、同時にprintが行われているから

3. ex02.cを読み、セマフォの使い方を理解せよ。

printする前にsem_waitによって同時に行われているプロセスを待たせる。sem_postで待たせていた状態を解除することで同時にprintなどの操作が行われることを防いでいるように見える。

4. ex02を実行せよ。

### a. 演習１のプログラムに比べ，どのような結果を得られたか。また，
その理由は何か。

## 結果

```
parent process(pid=9830), ptr=0x7ffebb517360
child process(pid=9831), ptr=0x7ffebb517360
```

## 理由

- セマフォを利用することで同時にslowPrintが実行されることを防いだから。

### b. 親プロセスと子プロセスにおいて、msgのポインタは同じアドレスを持っているが，異なる文字列を指している。このアドレスは，プロセス領域の相対アドレスである。それはfork命令のどのような特徴によるものか。

コピーオンライトというもの。ページテーブルのみをコピーすることで親プロセスと子プロセスが同じ物理メモリを共有する方法。

5. ex02.cを元に以下のように書き換えて実行した場合，どのよ
うな表示結果となるか。また，その理由を説明せよ。

## 結果

```
parent process(pid=14758), ptr=0x7fff2a22b6c0
child process(pid=14759), ptr=0x7fff2a22b6c0
child process(pid=14759), ptr=0x7fff2a22b6c0
```

## 理由

- a

6. ex03.cpp, Monitor.h, Monitor.cppを読む。

